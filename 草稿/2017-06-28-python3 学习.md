## 语法

### 数据类型

整数、浮点数、字符串、布尔值、空值

#### 字符串

+ 用`r''`表示`''`内部的字符串默认不转义

+ 用`'''...'''`的格式表示多行内容，如：

  ```python
  >>> print('''line1
  ... line2
  ... line3''')
  line1
  line2
  line3
  ```



#### 布尔值

True、False

布尔值可以用`and`、`or`和`not`运算



#### 空值

None



#### 变量

​	可以把任意数据类型赋值给变量，同一个变量可以反复赋值，而且可以是不同类型的变量，如：

```python
a = 123 # a是整数
print(a)
a = 'ABC' # a变为字符串
print(a)
```

​	这种变量本身类型不固定的语言称之为**动态语言**



#### 常量

```python
PI = 3.14159265359
```

事实上`PI`仍然是一个变量，Python根本没有任何机制保证`PI`不会被改变



#### 额外：整数的除法

```python
>>> 10 / 3
3.3333333333333335
```

`/`除法计算结果是浮点数，即使是两个整数恰好整除，结果也是浮点数：

```Python
>>> 9 / 3
3.0
```

还有一种除法是`//`，称为地板除

```python
>>> 10 // 3
3
```

取余

```python
>>> 10 % 3
1
```


### 字符串和编码

​	`UTF-8`编码是一种“可变长编码”，UTF-8编码把一个Unicode字符根据不同的数字大小编码成1-6个字节，常用的英文字母被编码成1个字节，汉字通常是3个字节，只有很生僻的字符才会被编码成4-6个字节。如果你要传输的文本包含大量英文字符，用UTF-8编码就能节省空间：

| 字符   | ASCII    | Unicode           | UTF-8                      |
| ---- | -------- | ----------------- | -------------------------- |
| A    | 01000001 | 00000000 01000001 | 01000001                   |
| 中    | x        | 01001110 00101101 | 11100100 10111000 10101101 |

计算机系统通用的字符编码工作方式：

在计算机内存中，统一使用Unicode编码，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码。

用记事本编辑的时候，从文件读取的UTF-8字符被转换为Unicode字符到内存里，编辑完成后，保存的时候再把Unicode转换为UTF-8保存到文件：

![utf-8_1](/Users/zero/OneDrive/markdown/photo/Python 教程廖雪峰/utf-8_1.png)

浏览网页的时候，服务器会把动态生成的Unicode内容转换为UTF-8再传输到浏览器：

![utf-8_2](/Users/zero/OneDrive/markdown/photo/Python 教程廖雪峰/utf-8_2.png)

#### Python的字符串

```python
>>> ord('A')
65
>>> ord('中')
20013
>>> chr(66)
'B'
>>> chr(25991)
'文'
```

##### bytes类型

```python
x = b'ABC'
```

##### str 转 bytes

```python
>>> 'ABC'.encode('ascii')
b'ABC'
>>> '中文'.encode('utf-8')
b'\xe4\xb8\xad\xe6\x96\x87'
>>> '中文'.encode('ascii')
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-1: ordinal not in range(128)
```

##### bytes 转 str

```python
>>> b'ABC'.decode('ascii')
'ABC'
>>> b'\xe4\xb8\xad\xe6\x96\x87'.decode('utf-8')
'中文'
```

##### 计算 str 字符数

```python
>>> len('ABC')
3
>>> len('中文')
2
```

##### 计算 bytes 字符数

```Python
>>> len(b'ABC')
3
>>> len(b'\xe4\xb8\xad\xe6\x96\x87')
6
>>> len('中文'.encode('utf-8'))
6
```

##### 源代码指定为 utf-8 编码

​	在文件开头加入

```Python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
```

##### 格式化

```python
>>> 'Hello, %s' % 'world'
'Hello, world'
>>> 'Hi, %s, you have $%d.' % ('Michael', 1000000)
'Hi, Michael, you have $1000000.'
```

常见的占位符有：

| %d   | 整数     |
| ---- | ------ |
| %f   | 浮点数    |
| %s   | 字符串    |
| %x   | 十六进制整数 |

```Python
>>> '%2d-%02d' % (3, 1)
' 3-01'
>>> '%.2f' % 3.1415926
'3.14'
```

%作为普通字符

```python
>>> 'growth rate: %d %%' % 7
'growth rate: 7 %'
```



### list 和 tuple

#### list

list 是一种有序的集合

```python
>>> classmates = ['Michael', 'Bob', 'Tracy']
>>> classmates
['Michael', 'Bob', 'Tracy']
```

获取每个位置的元素

```python
>>> classmates[0]
'Michael'
>>> classmates[1]
'Bob'
>>> classmates[2]
'Tracy'
>>> classmates[3]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list index out of range
```

-1直接获取最后一个元素，-2获取倒数第二个

```python
>>> classmates[-1]
'Tracy'
>>> classmates[-2]
'Bob'
>>> classmates[-3]
'Michael'
>>> classmates[-4]
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
IndexError: list index out of range
```

list 里面的元素类型可以不同

```python
>>> L = ['Apple', 123, True]

>>> s = ['python', 'java', ['asp', 'php'], 'scheme']
>>> len(s)
4

>>> p = ['asp', 'php']
>>> s = ['python', 'java', p, 'scheme']
```

要去的‘php’，可以使用 p[1]或 s[2][1\]

##### len()

使用 len() 函数可以获得 list 的大小

```python
>>> len(classmates)
3
```

##### append()

追加元素

```python
>>> classmates.append('Adam')
>>> classmates
['Michael', 'Bob', 'Tracy', 'Adam']
```

##### insert()

插入到指定位置

```python
>>> classmates.insert(1, 'Jack')
>>> classmates
['Michael', 'Jack', 'Bob', 'Tracy', 'Adam']
```

##### pop()

删除list末尾元素

```python
>>> classmates.pop()
'Adam'
>>> classmates
['Michael', 'Jack', 'Bob', 'Tracy']
```

删除指定位置的元素

```python
>>> classmates.pop(1)
'Jack'
>>> classmates
['Michael', 'Bob', 'Tracy']
```

#### tuple

​	元祖，与 list 类似，但tuple 一旦初始化就不能修改

```python
>>> classmates = ('Michael', 'Bob', 'Tracy')

>>> t = (1, 2)
>>> t
(1, 2)
```

##### 一个元素的 tuple

需要使用`,`来消除歧义

```python
>>> t = (1,)
>>> t
(1,)
```


### 条件判断

示例：

```python
age = 3
if age >= 18:
    print('adult')
elif age >= 6:
    print('teenager')
else:
    print('kid')
```

判断成功将执行缩进的语句。