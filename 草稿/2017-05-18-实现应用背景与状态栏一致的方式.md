[为什么在国内会有很多用户把「透明栏」（Translucent Bars）称作 「沉浸式顶栏」？](https://www.zhihu.com/question/27040217)

[Using Immersive Full-Screen Mode](https://developer.android.com/training/system-ui/immersive.html)

这里要说的其实就是透明栏Translucent Bars，其实也就是沉浸式顶栏，其实为什么叫沉浸式，不太理解也懒得追究。。。

SDK >=21:

```java
View decorView = getWindow().getDecorView();//这里得到的是整个 Activity 界面的视图
decorView.setSystemUiVisibility(
                    View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_STABLE);
getWindow().setStatusBarColor(Color.TRANSPARENT);
```

`View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN` 表明 View 在进行布局时，会认为它所在的 window 已经请求了 View.SYSTEM_UI_FLAG_FULLSCREEN 全屏。这样，Activity 的布局将会显示在状态栏上面。

`View.SYSTEM_UI_FLAG_LAYOUT_STABLE` 在系统栏、导航栏或状态栏等 UI 发现变化时，我们仍然希望视图内容为这些 UI 的保留空间以实现一种“stable”的目的。stable 布局取决于可切换到的System UI 模式：如果指定了SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN，在SYSTEM_UI_FLAG_FULLSCREEN改变时，将是一个 stable 布局；如果指定了SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN 和 SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION，在切换到SYSTEM_UI_FLAG_FULLSCREEN和SYSTEM_UI_FLAG_HIDE_NAVIGATION时，也会是 stable 布局。

除了以上设置外，还需要在合适的View上添加`android:fitsSystemWindows="true"`， 使 View 为系统元素如状态栏预留出空间，否则可能出现 View 与系统 UI 重叠的问题。