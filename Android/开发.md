## 前期准备

+ 配置基本的颜色、字号
+ 声明通用的 style attr，在自定义 Theme 引用对应的 Style
+ 二倍图放置在 xhdpi 文件夹，三倍图放置在 xxhdpi 文件夹 
+ 先根据 UI 设计图提取出 Style
+ 创建一个 versions.gradle 来统一配置所有 module 的版本，[参考](https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/versions.gradle)




### 快速开发

+ 将布局中某个 View 的属性导出为 Style

  在该 View 标签内右键，Refactor -> extract -> Style。为了方便使用，最后设置快捷键。

+ 将某部分布局导出为单独的 layout

  操作类似于导出 Style

+ 布局复用考虑 Style > include > 自定义 View



### 主题

采用继承链方式：

values/styles.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="AppTheme" parent="Base.V0.AppTheme"/>

    <style name="Base.V0.AppTheme" parent="Theme.AppCompat.Light.NoActionBar">
        <!-- Generic, non-specific attributes -->
        <item name="colorPrimary">@color/colorPrimary</item>
        <item name="colorPrimaryDark">@color/colorPrimaryDark</item>
        <item name="colorAccent">@color/colorAccent</item>
        <item name="android:windowBackground">@color/windowBackground</item>
    </style>
</resources>
```

values-v19/styles.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="AppTheme" parent="Base.V19.AppTheme"/>
    
    <style name="Base.V19.AppTheme" parent="Base.V0.AppTheme">
        <!-- API 19 specific attributes -->
        <item name="android:windowTranslucentStatus">true</item>
    </style>
</resources>
```

values-v21/styles.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="AppTheme" parent="Base.V21.AppTheme"/>
    
    <style name="Base.V21.AppTheme" parent="Base.V19.AppTheme">
        <!-- API 21 specific attributes -->
        <item name="android:windowSharedElementEnterTransition">@android:animator/fade_in</item>
    </style>
</resources>
```



### 常用的引用属性



## 想法

+ 对于一些不会实时返回结果的 listener，需要在退出时置为 null。比如我遇到的一个使用onFocusChangeListener 的 bug——在使用 ButterKnife 时，因为 unbind 前没有置为 null，而 OnFocusChangeListener 方法中又使用了经过 bind 得到的 view，经过 onDestroyView 的 unbind 后，view 已经为 null。
+ 考虑将不同用户的一些私有属性保存到单独的 share preference 文件
+ 做好与后台接口交流的中间层，避免接口变更导致的不适用问题。
+ 不要让 Context 成为 god 对象！！！（写、看代码越多，对此越来越深刻）

